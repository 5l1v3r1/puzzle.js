set contents (read moves.txt)
set expr "\\n\\s*p\\[([0-9])\\], p\\[([0-9])\\] = p\\[.*\\], p\\[.*\\]"
set replacement "\n  temp = p[$1];\n  p[$1] = p[$2];\n  p[$2] = temp;"
set contents (repreg $contents $expr $replacement)
print $contents
